

<!DOCTYPE html>


<html lang="es" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Bloque &#8212; documentación de DecentralChain - </title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/thebelab-helper.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '02_decentralchain/04_block';</script>
    <link rel="shortcut icon" href="../_static/icon.svg"/>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="Nodo" href="05_node.html" />
    <link rel="prev" title="Transacción" href="03_transaction.html" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="es"/>  
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Saltar al contenido principal</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="DecentralChain"/>
    <script>document.write(`<img src="../_static/logo-dark.png" class="logo__image only-dark" alt="DecentralChain"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navegación del sitio">
    Navegación del sitio
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../01_introduction.html">
                        Introducción
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        DecentralChain
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../03_ride-language/index.html">
                        Ride Language
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                  <a class="nav-link nav-external" href="http://decentralchain.io/">
                    Website
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="http://decentral.exchange/">
                    Wallet & Exchange
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://decentralscan.com/">
                    Explorer
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="claro/oscuro" aria-label="claro/oscuro" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Decentral-America/docs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/decentralchain" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/decentralchain/" title="LinkedIn" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-linkedin"></i></span>
            <label class="sr-only">LinkedIn</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/@decentralchain" title="Youtube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-youtube"></i></span>
            <label class="sr-only">Youtube</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/9UUbNBPQ3D" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-discord"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.instagram.com/decentralchain/" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-instagram"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navegación del sitio">
    Navegación del sitio
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../01_introduction.html">
                        Introducción
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        DecentralChain
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../03_ride-language/index.html">
                        Ride Language
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                  <a class="nav-link nav-external" href="http://decentralchain.io/">
                    Website
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="http://decentral.exchange/">
                    Wallet & Exchange
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://decentralscan.com/">
                    Explorer
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="claro/oscuro" aria-label="claro/oscuro" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Decentral-America/docs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/decentralchain" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/decentralchain/" title="LinkedIn" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-linkedin"></i></span>
            <label class="sr-only">LinkedIn</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/@decentralchain" title="Youtube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-youtube"></i></span>
            <label class="sr-only">Youtube</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/9UUbNBPQ3D" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-discord"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.instagram.com/decentralchain/" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-instagram"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Navegación del sección">
  <p class="bd-links__title" role="heading" aria-level="1">Navegación del sección</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">DecentralChain</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_account.html">Cuenta</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_token%28asset%29.html">Token (Activo)</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_transaction.html">Transacción</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Bloque</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_node.html">Nodo</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_order.html">Orden</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_oracle.html">Oráculo</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_mainnet-testnet-stagenet.html">Redes Principal, Prueba, Escenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_protocol.html">Protocolo</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_binary-format.html">Formato Binario</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Migas de pan">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Miga de pan">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Inicio">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">DecentralChain</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Bloque</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                   <section id="block">
<h1>Bloque<a class="headerlink" href="#block" title="Enlace permanente a este encabezado">#</a></h1>
<p>Un bloque es un eslabón en la cadena de la cadena de bloques. El bloque contiene transacciones. Un bloque tiene su altura.</p>
<p>El tamaño máximo de bloque es <span class="math notranslate nohighlight">\(1\)</span> MB. La máxima complejidad total de scripts en transacciones del bloque es <span class="math notranslate nohighlight">\(2,500,000\)</span>. Se tiene en cuenta la complejidad de todos los scripts ejecutados: scripts de dApp, scripts de cuentas y scripts de activos.</p>
<section id="block-generation">
<h2>Generación de Bloques<a class="headerlink" href="#block-generation" title="Enlace permanente a este encabezado">#</a></h2>
<p>Una generación de bloques es la creación de un nuevo <a class="reference internal" href="#block"><span class="std std-ref">bloque</span></a> en la cadena de bloques. Los bloques son generados por <a class="reference internal" href="05_node.html#generating-node"><span class="std std-ref">nodos generadores</span></a> según el <a class="reference internal" href="09_protocol.html#fair-proof-of-stake"><span class="std std-ref">algoritmo FPoS</span></a> y el <a class="reference internal" href="09_protocol.html#decentralchain-m5-protocol"><span class="std std-ref">protocolo DecentralChain-M5</span></a>. El generador de bloques solo firma los encabezados de los bloques. Los encabezados de bloque contienen el hash raíz de Merkle de las transacciones de bloque. Esto hace posible verificar los encabezados de bloque además de las transacciones y proporcionar evidencia de la presencia de transacciones en el bloque sin la presencia de todas las transacciones. Consulte los detalles en el artículo sobre <a class="reference internal" href="#transactions-root-hash"><span class="std std-ref">hash raíz de transacciones</span></a>.</p>
<section id="base-target">
<h3>Objetivo Base<a class="headerlink" href="#base-target" title="Enlace permanente a este encabezado">#</a></h3>
<p>El objetivo base es la variable en la fórmula de tiempo promedio de generación de bloques que ajusta el tiempo de <a class="reference internal" href="#block-generation"><span class="std std-ref">generación de bloques</span></a> a <span class="math notranslate nohighlight">\(60\)</span> segundos.</p>
</section>
<section id="generation-signature">
<h3>Firma de Generación<a class="headerlink" href="#generation-signature" title="Enlace permanente a este encabezado">#</a></h3>
<p>La firma de generación es la variable en la fórmula de tiempo promedio de generación de bloque. Se utiliza para verificar si el <a class="reference internal" href="05_node.html#generating-node"><span class="std std-ref">nodo generador</span></a> actual es elegible para generar el siguiente bloque. La firma de generación se calcula utilizando VRF (función aleatoria verificable con pruebas cortas y llaves), una función pseudoaleatoria que utiliza un mensaje y la clave privada de una cuenta para proporcionar una prueba verificable no interactiva de la exactitud de su salida.</p>
<p>Esta mejora permite resistir los ataques de molienda de estacas destinados a influir en la aleatoriedad de generación de bloques para omitir la oportunidad del minero de crear un bloque. El uso de VRF hace que la generación de firmas sea impredecible debido a la necesidad de conocer la clave privada para el cálculo. Solo el titular de la clave privada puede calcular el hash, pero cualquiera puede verificar la corrección del hash utilizando la clave pública del encabezado del bloque.</p>
<p>El VRF contiene la función de calculateVRF, que calcula la prueba de algún mensaje, y la función de verifyVRF, que verifica la prueba de la función de calculateVRFVRF con un mensaje y la clave pública del firmante. Teniendo en cuenta que la firma de generación de un bloque es igual a calcular la salida calculateVRF para una firma de generación anterior con clave privada de cuenta sk (del generador de <span class="math notranslate nohighlight">\(i+1\)</span> th block):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>generationSignaturei+1 = VRFproof = calculateVRFsk(VRFi)
</pre></div>
</div>
<p>La salida de la función de calculateVRF es una prueba de VRF, lo que significa que se puede verificar la validez de la firma. La salida de la función verifyVRF(pk <span class="math notranslate nohighlight">\(_i\)</span>, generationSignature <span class="math notranslate nohighlight">\(_i\)</span>) se usa para definir el retraso de tiempo entre <span class="math notranslate nohighlight">\(i+99\)</span> y <span class="math notranslate nohighlight">\(i+100\)</span> bloques para concreto generador de bloques</p>
</section>
</section>
<section id="block-height">
<h2>Altura del Bloque<a class="headerlink" href="#block-height" title="Enlace permanente a este encabezado">#</a></h2>
<p>La altura del bloque es un número de secuencia de un <a class="reference internal" href="#block"><span class="std std-ref">bloque</span></a> en la cadena de bloques.</p>
</section>
<section id="block-signature">
<h2>Firma del Bloque<a class="headerlink" href="#block-signature" title="Enlace permanente a este encabezado">#</a></h2>
<p>Una firma de bloque es un hash que un <a class="reference internal" href="05_node.html#generating-node"><span class="std std-ref">nodo generador</span></a> adquiere cuando firma el <a class="reference internal" href="#block-generation"><span class="std std-ref">bloque generado</span></a> con la llave privada de la cuenta de la billetera del nodo.</p>
</section>
<section id="block-timestamp">
<h2>Marca de Tiempo del Bloque<a class="headerlink" href="#block-timestamp" title="Enlace permanente a este encabezado">#</a></h2>
<p>Una marca de tiempo de bloque es indica el tiempo en que ocurrió la <a class="reference internal" href="#block-generation"><span class="std std-ref">generación del bloque</span></a>. El tiempo se especifica en milisegundos que han pasado desde el comienzo de la época de Unix.</p>
<p>Cuando el <a class="reference internal" href="05_node.html#node"><span class="std std-ref">nodo</span></a> recibe un nuevo bloque de la red blockchain, verifica que el valor de la marca de tiempo del bloque no supere la hora UTC en más de <span class="math notranslate nohighlight">\(100\)</span> milisegundos. Los nodos validan el valor de la marca de tiempo del bloque utilizando la fórmula de FPoS.</p>
</section>
<section id="genesis-block">
<h2>Bloque Génesis<a class="headerlink" href="#genesis-block" title="Enlace permanente a este encabezado">#</a></h2>
<p>Un bloque de génesis es el primer <a class="reference internal" href="#block"><span class="std std-ref">bloque</span></a> de la cadena de bloques. Un bloque de génesis contiene una o más <a class="reference internal" href="03_transaction.html#genesis-transaction"><span class="std std-ref">transacciones génesis</span></a>. Hay un bloque de génesis en la cadena de bloques.</p>
</section>
<section id="transactions-root-hash">
<h2>Hash Raíz de Transacciones<a class="headerlink" href="#transactions-root-hash" title="Enlace permanente a este encabezado">#</a></h2>
<p>El campo transactionRoot en el encabezado del bloque contiene el hash raíz del árbol Merkle de transacciones del bloque. El hash raíz es la prueba de que el bloque contiene todas las transacciones en el orden correcto. El hash raíz de transacciones en el encabezado del bloque tiene los siguientes propósitos:</p>
<ul class="simple">
<li><p>Para probar la integridad de las transacciones en el bloque sin presentar todas las transacciones.</p></li>
<li><p>Firmar únicamente la cabecera del bloque, separadamente de sus transacciones.</p></li>
</ul>
<section id="transactions-root-alculation">
<h3>Cálculo de la Raíz de la Transacción<a class="headerlink" href="#transactions-root-alculation" title="Enlace permanente a este encabezado">#</a></h3>
<img alt="../_images/10_transactionsRoot-Calculation.png" src="../_images/10_transactionsRoot-Calculation.png" />
<ol class="arabic simple">
<li><p>Se calcula el hash de cada transacción en el bloque. Por ejemplo:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(H_A\)</span> = hash(<span class="math notranslate nohighlight">\(T_A\)</span>)</p></li>
<li><p><span class="math notranslate nohighlight">\(H_B\)</span> = hash(<span class="math notranslate nohighlight">\(T_B\)</span>)</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Cada par de hash adyacentes se concatena y el hash se calcula para cada concatenación resultante:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(H_{AB}\)</span> = hash(<span class="math notranslate nohighlight">\(H_A\)</span> + <span class="math notranslate nohighlight">\(H_B\)</span>)</p></li>
<li><p>Si el último hash no tiene un par, se concatena con el hash de cero bytes: <span class="math notranslate nohighlight">\(H_{GH}\)</span> = hash(<span class="math notranslate nohighlight">\(H_G\)</span> + hash(0))</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Se repite el paso 2 hasta obtener el hash raíz:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(H_{ABCDEFGH}\)</span></p></li>
<li><p>El hash raíz se escribe en el campo transactionRoot.</p></li>
</ul>
</div></blockquote>
<p>Si el bloque está vacío, transaccionesRoot = hash(0). La cadena de bloques DecentralChain utiliza la función hash BLAKE2b-256.</p>
</section>
<section id="proof-of-transaction-in-block">
<h3>Prueba deTransacción en Bloque<a class="headerlink" href="#proof-of-transaction-in-block" title="Enlace permanente a este encabezado">#</a></h3>
<p>Supongamos que el lado <span class="math notranslate nohighlight">\(1\)</span> almacena los datos completos de la cadena de bloques y el lado <span class="math notranslate nohighlight">\(2\)</span> almacena solo los encabezados de los bloques. Para probar que el bloque contiene una transacción determinada, side <span class="math notranslate nohighlight">\(1\)</span> proporciona los siguientes datos:</p>
<ul class="simple">
<li><p>T: Transacción a comprobar.</p></li>
<li><p>merkleProofs: matriz de valores hash hermanos del árbol de Merkle, de abajo hacia arriba.</p></li>
<li><p>index: Índice de la transacción en el bloque.</p></li>
</ul>
<img alt="../_images/11_Proof-of-Transaction-in-Block.png" src="../_images/11_Proof-of-Transaction-in-Block.png" />
<p>Por ejemplo, para la transacción <span class="math notranslate nohighlight">\(T_D\)</span>:</p>
<ul class="simple">
<li><p>merkleProofs = [ <span class="math notranslate nohighlight">\(H_C\)</span>, <span class="math notranslate nohighlight">\(H_{AB}\)</span>, <span class="math notranslate nohighlight">\(H_{EFGH}\)</span> ]</p></li>
<li><p>index = <span class="math notranslate nohighlight">\(3\)</span></p></li>
</ul>
<p>El lado 2 verifica la prueba:</p>
<ol class="arabic simple">
<li><p>Calcula el hash de la transacción que se está comprobando (todos los datos de la transacción son hash, incluida la firma): <span class="math notranslate nohighlight">\(H_D\)</span> = hash(<span class="math notranslate nohighlight">\(T_D\)</span>)</p></li>
</ol>
<p>2. It concatenates the current hash with the corresponding hash of the merkleProofs array and calculates the hash of concatenation.
index determines in which order to concatenate the hashes:</p>
<blockquote>
<div><ul>
<li><p>Si el enésimo bit de índice desde el final es <span class="math notranslate nohighlight">\(0\)</span>, entonces el orden es: el hash actual + el enésimo hash de merkleProofsarray (el hash de prueba está a la derecha).</p></li>
<li><p>Si el enésimo bit es <span class="math notranslate nohighlight">\(1\)</span> , el orden es: el enésimo hash de merkleProofsarray + el hash actual (el hash de prueba está a la izquierda). Por ejemplo, index = <span class="math notranslate nohighlight">\(3_{10}\)</span> = <span class="math notranslate nohighlight">\(11_2\)</span> , por lo tanto:</p>
<blockquote>
<div><ul class="simple">
<li><p>merkleProofs[0] = <span class="math notranslate nohighlight">\(H_{C}\)</span> está a la izquierda,</p></li>
<li><p>merkleProofs[1] = <span class="math notranslate nohighlight">\(H_{AB}\)</span> está a la izquierda,</p></li>
<li><p>merkleProofs[2] = <span class="math notranslate nohighlight">\(H_{EFGH}\)</span> está a la derecha.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Repite el paso 2 hasta obtener el hash raíz: <span class="math notranslate nohighlight">\(H_{ABCDEFGH}\)</span></p></li>
<li><p>Compara el hash de raíz obtenido con las transaccionesRoot ya conocidas del encabezado del bloque. Si los valores hash coinciden, la transacción existe en el bloque.</p></li>
</ol>
</section>
<section id="tools">
<h3>Herramientas<a class="headerlink" href="#tools" title="Enlace permanente a este encabezado">#</a></h3>
<p>Los siguientes métodos de API de nodo aceptan ID de transacciones y proporcionan la prueba de que la transacción está en un bloque para cada transacción:</p>
<ul class="simple">
<li><p>GET /transacciones/merkleProof</p></li>
<li><p>POST /transacciones/merkleProof</p></li>
</ul>
<p>Los métodos se describen en el artículo sobre <a class="reference internal" href="03_transaction.html#transaction"><span class="std std-ref">transacciones</span></a>. Puedes verificar una transacción en la misma cadena de bloques sin usar un hash raíz, ya que los nodos de DecentralChain almacenan todos los datos de la cadena de bloques, incluidas todas las transacciones. Utilice la siguiente función Ride integrada:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>transactionHeightById(id: ByteVector): Int|Unit
</pre></div>
</div>
<p>La función devuelve la altura del bloque si existe la transacción con el ID especificado. De lo contrario, devuelve una unidad. Consulte la descripción de la función en el artículo <a class="reference internal" href="../03_ride-language/03_functions.html#blockchain-functions"><span class="std std-ref">funciones blockchain</span></a>. Para verificar una transacción en un bloque en la cadena de bloques externa, puede usar la siguiente función Ride incorporada:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>createMerkleRoot(merkleProofs: List[ByteVector], valueBytes: ByteVector, index: Int): ByteVector
</pre></div>
</div>
<p>Esta función es aplicable si la cadena de bloques externa utiliza el mismo algoritmo para calcular el hash raíz de las transacciones. La función createMerkleRoot calcula el hash raíz a partir del hash de transacción y los hashes hermanos del árbol merkle (consulte los pasos 1 a 3). Para verificar una transacción en un bloque, compare el hash de raíz calculado con el valor de transactionRoot en el encabezado del bloque.</p>
<span class="target" id="node"></span></section>
</section>
</section>

<div class="section">
   
</div>

                </article>
              
              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="03_transaction.html"
       title="página anterior">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">anterior</p>
        <p class="prev-next-title">Transacción</p>
      </div>
    </a>
    <a class="right-next"
       href="05_node.html"
       title="siguiente página">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">siguiente</p>
        <p class="prev-next-title">Nodo</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> En esta página
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#block-generation">Generación de Bloques</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#base-target">Objetivo Base</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generation-signature">Firma de Generación</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#block-height">Altura del Bloque</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#block-signature">Firma del Bloque</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#block-timestamp">Marca de Tiempo del Bloque</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#genesis-block">Bloque Génesis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#transactions-root-hash">Hash Raíz de Transacciones</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transactions-root-alculation">Cálculo de la Raíz de la Transacción</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proof-of-transaction-in-block">Prueba deTransacción en Bloque</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tools">Herramientas</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  
  <div class="tocsection editthispage">
    <a href="https://github.com/Decentral-America/docs/edit/master/docs//02_decentralchain/04_block.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Editar en GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/02_decentralchain/04_block.rst">
      <i class="fa-solid fa-file-lines"></i> Mostrar el código
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner"></div>
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, Blockchain Costa Rica.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Construido con el <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">Tema PyData Sphinx</a> 0.13.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>